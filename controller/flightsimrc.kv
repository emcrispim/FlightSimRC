##########################################################################
# Author:               Eduardo Crispim, emcrispim@gmail.com
# Date:                 July, 2016
# 
# This program is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 or (at your
# option) any later version as published by the Free Software Foundation.
#
#########################################################################




<MainUI>:
	rudder:rudder
	brakes:brakes
	padctrl:padctrl
	elevatortrim:elevatortrim
	ruddertrim:ruddertrim
	knobs:knobs
	throttle:throttle
	flaps:flaps
	speedbrake:speedbrake
	lights:lights
	lbuttonspanel:lbuttonspanel
	rbuttonspanel:rbuttonspanel
	dgtpadpanel:dgtpadpanel
	dgtpadctrl:dgtpadctrl
	orientation: 'horizontal'
	# L1 LAYOUT LEFT

	BoxLayout:
		orientation:'vertical'
		size_hint_x:0.5


		# L2 LAYOUT UP

		BoxLayout:
			size_hint_y:0.8
			orientation:'horizontal'
			BoxLayout:
				size_hint_x:0.1
				orientation:'vertical'
				Button:
					id:bt_settings
					size_hint_y:None
					height:self.parent.width
					background_normal:'atlas://img/myatlas/settingsBT_normal'
					background_down:'atlas://img/myatlas/settingsBT_down'
					on_press:root.openSettings()
				ToggleButton:
					size_hint_y:None
					height:self.parent.width*2
					background_normal:'atlas://img/myatlas/accelerometerBT_normal'
					background_down:'atlas://img/myatlas/accelerometerBT_down'
					on_press:root.on_accelerometer(self.state)
				RelativeLayout:
					size_hint_y:1
					ElevatorTrim:
						id:elevatortrim
			PadPanel:
				size_hint_x:0.9
				PadCtrl:
					id:padctrl
					size:self.parent.width/4,self.parent.height/4
					center:self.parent.width/2,self.parent.height/2



		# L2 LAYOUT DOWN

		BoxLayout:
			orientation:'horizontal'
			size_hint_y:0.2

			ToggleButton:
				size_hint_x:0.1
				group:'buttons'
				background_normal:'atlas://img/myatlas/ruddertrimBT_normal'
				background_down:'atlas://img/myatlas/ruddertrimBT_down'
				on_press:root.on_ruddertrimBT(self.state)

			RelativeLayout:
				size_hint_x:0.9
				canvas:
					Rectangle:
						size:self.size
						pos:0,0
						source:"img/bgRudder.png"
				RudderKnob:
					id:rudder
					size: (self.parent.height ,self.parent.height)
					center:(self.width/2,self.height/2)
				RudderTrim:
					id:ruddertrim
				LButtonsPanel:
					id:lbuttonspanel
					BoxLayout:
						size:self.parent.size
						pos:self.parent.pos
						orientation:'horizontal'
						B1:
							id:btn1_toggle
							on_press:root.on_btpress('btn1_toggle')
						B1:
							id:btn2_toggle
							on_press:root.on_btpress('btn2_toggle')
						B1:
							id:btn3_toggle
							on_press:root.on_btpress('btn3_toggle')
						B1:
							id:btn4_toggle
							on_press:root.on_btpress('btn4_toggle')

	# L1 LAYOUT RIGHT

	BoxLayout:
		orientation:'vertical'
		size_hint_x:0.5
		BoxLayout:
			id:background
			#size_hint_y:0.9
			orientation:'horizontal'
			RelativeLayout:
				size_hint_x:0.87
				Widget:
					size:self.parent.size
					pos:self.pos
					canvas:
						Rectangle:
							size:self.size
							pos:self.pos
							source:"img/background.png"
				Knobs3D:
					id:knobs
				Knobs3DCtrl:
					id:speedbrake
					size:self.parent.width/5,self.parent.height/5
					center:self.width/2,self.parent.height/2
				Knobs3DCtrl:
					id:throttle
					size:self.parent.width/2.5,self.parent.height/4
					center:self.parent.width/2,self.parent.height/2
				Knobs3DCtrl:
					id:flaps
					size:self.parent.width/5,self.parent.height/5
					center:self.parent.width-self.width/1.5,self.parent.height/2
				DgtPadPanel:
					id:dgtpadpanel
					size:self.parent.width,self.parent.width
					DgtPadCtrl:
						id:dgtpadctrl
						size:self.parent.width/3,self.parent.width/3
						center:self.parent.width/2,self.parent.width*2
				RButtonsPanel:
					id:rbuttonspanel
					size:(self.parent.width,self.parent.height/5)
					BoxLayout:
						size:(self.parent.width,self.parent.height/5)
						pos:self.parent.pos
						orientation:'horizontal'
						B1:
							id:btn5_toggle
							on_press:root.on_btpress('btn5_toggle')
						B1:
							id:btn6_toggle
							on_press:root.on_btpress('btn6_toggle')
						B1:
							id:btn7_toggle
							on_press:root.on_btpress('btn7_toggle')
						B1:
							id:btn8_toggle
							on_press:root.on_btpress('btn8_toggle')
					


			BoxLayout:
				orientation:'vertical'
				size_hint_x:0.13
				Lights:
					id:lights
					size_hint_y:0.1
					width:self.parent.width
				RelativeLayout:
					size_hint_y:0.5
					canvas:
						Rectangle:
							size:self.size
							pos:0,0
							source:"img/bgBrakes.png"
					BrakesKnob:
						id:brakes
						size: (self.parent.width ,self.parent.width)
						center:(self.parent.width/2,self.height/2)
			
				ToggleButton:
					size_hint_y:0.2
					background_normal:'atlas://img/myatlas/dgtpadBT_normal'
					background_down:'atlas://img/myatlas/dgtpadBT_down'
					on_press:root.on_dgtpadBT(self.state)
				ToggleButton:
					size_hint_y:0.2
					group:'buttons'
					background_normal:'atlas://img/myatlas/buttonspanel_up'
					background_down:'atlas://img/myatlas/buttonspanel_down'
					on_press:root.on_buttonpanelBT(self.state)

	
