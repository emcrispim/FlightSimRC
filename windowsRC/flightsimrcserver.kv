##########################################################################
# Author:               Eduardo Crispim, emcrispim@gmail.com
# Date:                 July, 2016
# 
# This program is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 or (at your
# option) any later version as published by the Free Software Foundation.
#
#########################################################################


#<Status@CheckBox>
#	active:False
#	disabled:True

<Status>:
    canvas:
    	Color:
            rgb: self.r,self.g,0
        Rectangle:
            size: self.height/2,self.height/2
            pos:  self.pos[0],self.pos[1]+self.height/4

<MainUI>:
	orientation:'vertical'
	udpserviceview:udpserviceview
	ssdpsview:ssdpsview
	vjoyview:vjoyview
	controllerview:controllerview
	BoxLayout:
		size_hint_y:0.05
		orientation:'horizontal'
		Label:
			size_hint_x:0.05
			text:'IP:'
		TextInput:
			size_hint_x:0.3
			id:ip
			text:'0.0.0.0'
			multiline:False
			on_focus:root.onipfocus(self.focus,self.text)
		Label:
			text:''
			size_hint_x:0.2
		Label:
			size_hint_x:0.2
			text:'Manual Ip config'
		CheckBox:
			id:manualip
			size_hint_x:0.1
			on_active:root.onmanualip(self.active)
		Label:
			text:''
			size_hint_x:0.2
		Label:
			text:'Incoming port:'
			size_hint_x:0.25
		TextInput:
			size_hint_x:0.1
			id:incomingport
			multiline:False
			on_focus:root.onportfocus(self.focus,self.text)
			text:'0000'
		Label:
			text:''
			size_hint_x:0.4
		Button:
			size_hint_x:0.3
			text:'Restart service'
			on_press:root.restartServices()
	BoxLayout:
		size_hint_y:0.1
		orientation:'horizontal'
		Label:
			size_hint_x:0.1
			text:'UDPService:'
		Status:
			size_hint_x:0.05
			id:udpserviceview
		Label:
			size_hint_x:0.15
			text:'Discover Service:'
		Status:
			size_hint_x:0.05
			id:ssdpsview
		Label:
			size_hint_x:0.1
			text:'Vjoy driver:'
		Status:
			size_hint_x:0.05
			id:vjoyview
		Label:
			size_hint_x:0.15
			text:'Remote Controller:'
		Status:
			size_hint_x:0.05
			id:controllerview
		Label:
			size_hint_x:0.30
	BoxLayout:
		size_hint_y:0.8
		orientation:'horizontal'
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05
			Label:
				size_hint_y:0.1
				text:'X'
			Slider:
				id:X
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				value:50
				on_value: root.setAxis('X',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05
			Label:
				size_hint_y:0.1
				text:'Y'
			Slider:
				id:Y
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				value:50
				on_value: root.setAxis('Y',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05
			Label:
				size_hint_y:0.1
				text:'Z'
			Slider:
				id:Z
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				value:50
				on_value: root.setAxis('Z',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05

			Label:
				size_hint_y:0.1
				text:'Rx'
			Slider:
				id:Rx
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				on_value: root.setAxis('Rx',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05

			Label:
				size_hint_y:0.1
				text:'Ry'
			Slider:
				id:Ry
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				on_value: root.setAxis('Ry',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05

			Label:
				size_hint_y:0.1
				text:'Rz'
			Slider:
				id:Rz
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				on_value: root.setAxis('Rz',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05

			Label:
				size_hint_y:0.1
				text:'sl0'
			Slider:
				id:sl0
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				on_value: root.setAxis('sl0',self.value)
		BoxLayout:
			orientation:'vertical'
			size_hint_x:0.05

			Label:
				size_hint_y:0.1
				text:'sl1'
			Slider:
				id:sl1
				size_hint_y:0.9
				orientation:'vertical'
				min:0
				max:100
				on_value: root.setAxis('sl1',self.value)
		ScrollView:
			id:scroll
			size_hint_x:0.5
			canvas.before:
		        Color:
		            rgba: 1, 1, 1,1
				Rectangle:
					size:self.parent.size
				Color:
					rgba: 0,0,0,1
			Label:
				id:loglabel
				color: 1,1,1,1
				size_hint_y: None
				markup: True
				height: self.texture_size[1]
				text_size: self.width, None
				text: ''

